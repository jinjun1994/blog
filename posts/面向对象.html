<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"
    />
    <title>基于类与原型的编程范式 | jinjun</title>
    <meta name="description" content="前端开发 JavaScript webpack 金俊 jinjun " />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="基于类与原型的编程范式 | jinjun" />
    <meta property="og:site_name" content="基于类与原型的编程范式 | jinjun" />
    <meta property="og:locale" content="zh-CN" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="基于类与原型的编程范式 | jinjun" />
    <link rel="shortcut icon" href="/blog/favicon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.2df77784.css" as="style"><link rel="preload" href="/blog/assets/js/app.962901cb.js" as="script"><link rel="preload" href="/blog/assets/js/1.36b4da28.js" as="script"><link rel="preload" href="/blog/assets/js/16.1efe9ae9.js" as="script"><link rel="preload" href="/blog/assets/js/5.ab75d492.js" as="script"><link rel="preload" href="/blog/assets/js/7.5ca7d561.js" as="script"><link rel="preload" href="/blog/assets/js/14.fca58736.js" as="script"><link rel="preload" href="/blog/assets/js/6.da834821.js" as="script"><link rel="preload" href="/blog/assets/js/43.91e50540.js" as="script"><link rel="preload" href="/blog/assets/js/15.9cf39d09.js" as="script"><link rel="preload" href="/blog/assets/js/17.c81a99c6.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.9e0e1c72.js"><link rel="prefetch" href="/blog/assets/js/11.1f959de4.js"><link rel="prefetch" href="/blog/assets/js/12.ef11b7f2.js"><link rel="prefetch" href="/blog/assets/js/13.70f4995a.js"><link rel="prefetch" href="/blog/assets/js/18.fddf6aeb.js"><link rel="prefetch" href="/blog/assets/js/19.7ed7e296.js"><link rel="prefetch" href="/blog/assets/js/20.d1d02fdd.js"><link rel="prefetch" href="/blog/assets/js/21.66f4e9c1.js"><link rel="prefetch" href="/blog/assets/js/22.7eaa53d7.js"><link rel="prefetch" href="/blog/assets/js/23.d43fd536.js"><link rel="prefetch" href="/blog/assets/js/24.b81eab33.js"><link rel="prefetch" href="/blog/assets/js/25.e0013478.js"><link rel="prefetch" href="/blog/assets/js/26.f5e70498.js"><link rel="prefetch" href="/blog/assets/js/27.b82b89ef.js"><link rel="prefetch" href="/blog/assets/js/28.5c1d53a7.js"><link rel="prefetch" href="/blog/assets/js/29.913058a4.js"><link rel="prefetch" href="/blog/assets/js/30.926e85e7.js"><link rel="prefetch" href="/blog/assets/js/31.9ffa8d6d.js"><link rel="prefetch" href="/blog/assets/js/32.566a2132.js"><link rel="prefetch" href="/blog/assets/js/33.e6a95c97.js"><link rel="prefetch" href="/blog/assets/js/34.27c09604.js"><link rel="prefetch" href="/blog/assets/js/35.9dde9283.js"><link rel="prefetch" href="/blog/assets/js/36.dce4cb52.js"><link rel="prefetch" href="/blog/assets/js/37.baa3bfae.js"><link rel="prefetch" href="/blog/assets/js/38.78c6dae0.js"><link rel="prefetch" href="/blog/assets/js/39.8e154953.js"><link rel="prefetch" href="/blog/assets/js/4.c0856dc5.js"><link rel="prefetch" href="/blog/assets/js/40.0ac0b115.js"><link rel="prefetch" href="/blog/assets/js/41.7e3ca534.js"><link rel="prefetch" href="/blog/assets/js/42.07cb1b93.js"><link rel="prefetch" href="/blog/assets/js/44.54d815da.js"><link rel="prefetch" href="/blog/assets/js/45.d6d0167c.js"><link rel="prefetch" href="/blog/assets/js/8.546a26e3.js"><link rel="prefetch" href="/blog/assets/js/9.7c71ad7b.js"><link rel="prefetch" href="/blog/assets/js/search.7bc66dd3.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.2df77784.css">
  </head>
  <body>
    <div id="loader-wrapper" style="display: none;opacity:0">
      <div id="loader"></div>
      <div class="loader-section section-left"></div>
      <div class="loader-section section-right"></div>
    </div>
    <div id="app" data-server-rendered="true"><div style="height:100%;" data-v-5d0d200e><section class="el-container main-container" data-v-5d0d200e><aside class="el-aside menu" style="width:auto;" data-v-7a66351a data-v-5d0d200e><ul role="menubar" class="menu-wrap el-menu" style="background-color:;" data-v-7a66351a><li data-v-7a66351a><div class="brand-wrap" style="background-image:url();" data-v-7a66351a><div class="brand" data-v-7a66351a><a href="/blog/" class="avatar waves-effect waves-circle waves-light router-link-active" data-v-7a66351a><img src="/blog/avatar.png" data-v-7a66351a></a> <hgroup class="introduce" data-v-7a66351a><div class="nickname" data-v-7a66351a>jinjun</div> <a title="jinjun199403@gmail.com" class="mail" data-v-7a66351a>jinjun199403@gmail.com</a></hgroup></div></div></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-home" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>主页</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-biaoqian" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>标签分类</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-wenzhang" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>时间归档</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-github" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>Github</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-aboutme" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>关于我</span></li></ul></aside> <section class="el-container container-warp" data-v-5d0d200e><header id="topHeader" class="el-header top-header" style="height:60px;padding-left:260px;" data-v-462e0cef data-v-5d0d200e><div class="header-warp el-row is-align-middle el-row--flex" data-v-462e0cef><div class="el-col el-col-12 el-col-xs-7" data-v-462e0cef><div class="el-row is-align-middle el-row--flex" data-v-462e0cef><div class="el-col el-col-2" data-v-462e0cef><button type="button" class="el-button el-button--primary is-circle" data-v-462e0cef><!----><!----><span><i class="iconfont icon-caidan" data-v-462e0cef></i></span></button></div></div></div> <div class="el-col el-col-20 el-col-xs-24" data-v-462e0cef><div class="grid-content bg-purple-light" data-v-462e0cef><div class="el-row is-justify-end is-align-middle el-row--flex" data-v-462e0cef><div class="el-col el-col-13 el-col-xs-24 el-col-sm-21 el-col-md-17 el-col-lg-13" data-v-462e0cef><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-9101" class="el-autocomplete search-input" data-v-462e0cef><div class="el-input el-input--small el-input--suffix"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="search-popper" placeholder="搜搜看" fetchSuggestions="function () { [native code] }" debounce="300" placement="bottom-start" popperAppendToBody="true" value="" class="el-input__inner"><!----><span class="el-input__suffix"><span class="el-input__suffix-inner"><i class="el-input__icon el-icon-search search-ico" data-v-462e0cef></i><!----><!----><!----></span><!----></span><!----></div><div role="region" class="el-autocomplete-suggestion el-popper search-popper" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div></div></div></div></div></header> <main class="el-main my-main" style="margin-left:240px;" data-v-c4863568 data-v-5d0d200e><div class="content-header index-header" data-v-82ac95c6 data-v-c4863568><div class="container fade-scale in" data-v-82ac95c6><h1 id="conentHeader" class="title" data-v-82ac95c6>基于类与原型的编程范式</h1> <h5 class="subtitle" data-v-82ac95c6>最后更新时间：2019-03-19 12:34:26</h5></div></div> <div data-v-991417e8 data-v-c4863568 data-v-c4863568><div class="post-content el-row is-justify-center el-row--flex" data-v-991417e8><div id="post-card" class="post-card el-col el-col-16 el-col-xs-24 el-col-sm-23 el-col-md-23 el-col-lg-16" data-v-991417e8><div class="content default"><h3 id="编程范式"><a href="#编程范式" aria-hidden="true" class="header-anchor">#</a> 编程范式</h3> <p>编程范式的英语是 programming paradigm，范即模范之意，范式即模式、方法，是一类典型的编程风格，是指从事软件工程的一类典型的风格（可以对照“方法学”一词）。编程语言发展到今天，出现了好多不同的代码编写方式，但不同的方式解决的都是同一个问题 。</p> <p>下面是一张编程范式的图</p> <p><img src="http://p8xb02d0d.bkt.clouddn.com/18-7-26/31817390.jpg" alt="面向对象"></p> <p>https://www.info.ucl.ac.be/~pvr/paradigmsDIAGRAMeng108.pdf</p> <p>不过总体说来，我们可以简单地把这世界上纷乱的编程范式，分成这几类：声明式、命名式、逻辑的、函数式、面向对象的、面向过程的。</p> <p>面向对象程序设计（英语：Object-oriented programming，缩写：OOP）是种具有对象概念的程序编程典范，同时也是一种程序开发的抽象方针。它可能包含数据、属性、代码与方法。对象则指的是类的实例。它将对象作为程序的基本单元，将程序和数据封装其中，以提高软件的重用性、灵活性和扩展性，对象里的程序可以访问及经常修改对象相关连的数据。在面向对象程序编程里，计算机程序会被设计成彼此相关的对象[1][2]。</p> <p>面向对象程序设计可以看作一种在程序中包含各种独立而又互相调用的对象的思想，这与传统的思想刚好相反：传统的程序设计主张将程序看作一系列函数的集合，或者直接就是一系列对电脑下达的指令。面向对象程序设计中的每一个对象都应该能够接受数据、处理数据并将数据传达给其它对象，因此它们都可以被看作一个小型的“机器”，即对象。目前已经被证实的是，面向对象程序设计推广了程序的灵活性和可维护性，并且在大型项目设计中广为应用。此外，支持者声称面向对象程序设计要比以往的做法更加便于学习，因为它能够让人们更简单地设计并维护程序，使得程序更加便于分析、设计、理解。</p> <p>面向对象程序的特征：</p> <h4 id="分享非面向对象程序前身语言"><a href="#分享非面向对象程序前身语言" aria-hidden="true" class="header-anchor">#</a> 分享非面向对象程序前身语言</h4> <p>面向对象编程通常共享高阶编程语言的低级功能。可用于建构一个程序的基本工具包括：</p> <ul><li><a href="https://zh.wikipedia.org/wiki/%E5%8F%98%E9%87%8F_(%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1)" target="_blank" rel="noopener noreferrer">变量<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 能存储一些内置类型的信息如<a href="https://zh.wikipedia.org/wiki/%E6%95%B4%E6%95%B0" target="_blank" rel="noopener noreferrer">整数<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>与<a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E7%AC%A6" target="_blank" rel="noopener noreferrer">字符<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，也有些是<a href="https://zh.wikipedia.org/wiki/%E8%B3%87%E6%96%99%E7%B5%90%E6%A7%8B" target="_blank" rel="noopener noreferrer">数据结构<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>像是<a href="https://zh.wikipedia.org/wiki/%E5%AD%97%E7%AC%A6%E4%B8%B2" target="_blank" rel="noopener noreferrer">字符串<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>、<a href="https://zh.wikipedia.org/wiki/%E4%B8%B2%E5%88%97_(%E6%8A%BD%E8%B1%A1%E8%B3%87%E6%96%99%E5%9E%8B%E5%88%A5)" target="_blank" rel="noopener noreferrer">串列<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>与<a href="https://zh.wikipedia.org/wiki/%E5%93%88%E5%B8%8C%E8%A1%A8" target="_blank" rel="noopener noreferrer">散列表<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>等包含内置或复合的变量如指针。</li> <li><a href="https://zh.wikipedia.org/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A8%8B%E5%BA%8F" target="_blank" rel="noopener noreferrer">程序<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>：也称为函数、方法或例程，是指输入数据产生输出结果，现代语言还包含结构化编程结构如<a href="https://zh.wikipedia.org/wiki/%E7%A8%8B%E5%BC%8F%E8%BF%B4%E5%9C%88" target="_blank" rel="noopener noreferrer">程序循环<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>与<a href="https://zh.wikipedia.org/wiki/%E6%9D%A1%E4%BB%B6" target="_blank" rel="noopener noreferrer">条件<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li></ul> <h4 id="类与对象"><a href="#类与对象" aria-hidden="true" class="header-anchor">#</a> 类与对象</h4> <p>支持面向对象编程语言通常利用继承其他类达到代码重用和可扩展性的特性。而类有两个主要的概念：</p> <p>类（Class）：定义了一件事物的抽象特点。类的定义包含了数据的形式以及对数据的操作。
对象：是类的实例。
其中类（Class）定义了一件事物的抽象特点。类的定义包含了数据的形式以及对数据的操作。举例来说，“狗”这个类会包含狗的一切基础特征，即所有“狗”都共有的特征或行为，例如它的孕育、毛皮颜色和吠叫的能力。类可以为程序提供模版和结构。一个类的方法和属性被称为“成员”。 我们来看一段伪代码：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>类狗
开始
    公有成员<span class="token punctuation">:</span>
        <span class="token function">吠叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    私有成员<span class="token punctuation">:</span>
        毛皮颜色<span class="token punctuation">:</span>
        孕育<span class="token punctuation">:</span>
结束
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>在这串代码中，我们声明了一个类，这个类具有一些狗的基本特征。关于<a href="https://zh.wikipedia.org/w/index.php?title=%E5%85%AC%E6%9C%89%E6%88%90%E5%91%98&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener noreferrer">公有成员<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>和<a href="https://zh.wikipedia.org/w/index.php?title=%E7%A7%81%E6%9C%89%E6%88%90%E5%91%98&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener noreferrer">私有成员<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，请参见下面的继承性一节。</p> <p><a href="https://zh.wikipedia.org/wiki/%E5%AF%B9%E8%B1%A1_(%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6)" target="_blank" rel="noopener noreferrer">对象<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>（Object）是类的<a href="https://zh.wikipedia.org/wiki/%E5%AE%9E%E4%BE%8B" target="_blank" rel="noopener noreferrer">实例<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。对象有时会对应到现实世界中的事物，举例来说，一个图形程序可能有圆形、矩形与画面等对象，一个线上购物系统可能有购物车、顾客与产品等类。[<a href="https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1#cite_note-7" target="_blank" rel="noopener noreferrer">7]<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。有时对象会表示更抽象的实体，比如一个被打开的文件或是一个提供美国惯用量测转换的服务。每个对象就是一个特定类的实例（例如，名称是“玛丽”的对象可能是类雇员的一个实例）。程序在面向对象编程当中被视为方法，变量被视为成员或属性。例如，“<a href="https://zh.wikipedia.org/wiki/%E7%8B%97" target="_blank" rel="noopener noreferrer">狗<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>”这个类列举狗的特点，从而使这个类定义了世界上所有的狗。而莱丝这个对象则是一条具体的狗，它的属性也是具体的。狗有皮毛颜色，而莱丝的皮毛颜色是棕白色的。因此，莱丝就是狗这个类的一个实例。一个具体对象属性的值被称作它的“<a href="https://zh.wikipedia.org/wiki/%E7%8A%B6%E6%80%81" target="_blank" rel="noopener noreferrer">状态<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>”。（系统给对象分配内存空间，而不会给类分配内存空间。这很好理解，类是抽象的，系统不可能给抽象的东西分配空间，而对象则是具体的。）</p> <p>假设我们已经在上面定义了狗这个类，我们就可以用这个类来定义对象：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>定义莱丝是狗
莱丝<span class="token punctuation">.</span>毛皮颜色 <span class="token punctuation">:</span> 棕白色
莱丝<span class="token punctuation">.</span><span class="token function">吠叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>我们无法让狗这个类去吠叫，但是我们可以让对象“莱丝”去吠叫，正如狗可以吠叫，但没有具体的狗就无法吠叫。</p> <h4 id="动态配置与消息传递机制"><a href="#动态配置与消息传递机制" aria-hidden="true" class="header-anchor">#</a> 动态配置与消息传递机制</h4> <p>定义上动态配置是指方法会随着实例动态的改变。而消息传递机制（Message Passing）是指一个对象通过接受消息、处理消息、传出消息或使用其他类的方法来实现一定功能。如：莱丝可以通过吠叫引起人的注意，从而导致一系列的事发生。</p> <h4 id="封装性"><a href="#封装性" aria-hidden="true" class="header-anchor">#</a> 封装性</h4> <p>具备封装性（Encapsulation）的面向对象编程隐藏了某一方法的具体运行步骤，取而代之的是通过消息传递机制发送消息给它。封装是通过限制只有特定类的对象可以访问这一特定类的成员，而它们通常利用接口实现消息的传入传出。举个例子，接口能确保幼犬这一特征只能被赋予狗这一类。通常来说，成员会依它们的访问权限被分为3种：公有成员、私有成员以及保护成员。有些语言更进一步：Java可以限制同一包内不同类的访问；C#和VB.NET保留了为类的成员聚集准备的关键字：internal（C#）和Friend（VB.NET）；Eiffel语言则可以让用户指定哪个类可以访问所有成员。</p> <p>**具备封装性（Encapsulation）的面向对象程序设计隐藏了某一方法的具体执行步骤，取而代之的是通过消息传递机制传送消息给它。**因此，举例来说，“狗”这个类有“吠叫()”的方法，这一方法定义了狗具体该通过什么方法吠叫。但是，莱丝的朋友并不知道它到底是如何吠叫的。</p> <p>从实例来看：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/* 一个面向过程的程序会这样写： */</span>
定义莱丝
莱丝<span class="token punctuation">.</span><span class="token function">设置音调</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
莱丝<span class="token punctuation">.</span><span class="token function">吸气</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
莱丝<span class="token punctuation">.</span><span class="token function">吐气</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/* 而当狗的吠叫被封装到类中，任何人都可以简单地使用： */</span>
定义莱丝是狗
莱丝<span class="token punctuation">.</span><span class="token function">吠叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="继承"><a href="#继承" aria-hidden="true" class="header-anchor">#</a> 继承</h4> <p>继承性（Inheritance）是指，在某种情况下，一个类会有“子类”。子类比原本的类（称为父类）要更加具体化。例如，“狗”这个类可能会有它的子类“牧羊犬”和“吉娃娃犬”。在这种情况下，“莱丝”可能就是牧羊犬的一个实例。子类会继承父类的属性和行为，并且也可包含它们自己的。我们假设“狗”这个类有一个方法（行为）叫做“吠叫()”和一个属性叫做“毛皮颜色”。它的子类（前例中的牧羊犬和吉娃娃犬）会继承这些成员。这意味着程序员只需要将相同的代码写一次。</p> <p>在伪代码中我们可以这样写：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>类牧羊犬 <span class="token punctuation">:</span> 继承狗

定义莱丝是牧羊犬
莱丝<span class="token punctuation">.</span><span class="token function">吠叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment">/* 注意这里调用的是狗这个类的吠叫方法。*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>回到前面的例子，“牧羊犬”这个类可以继承“毛皮颜色”这个属性，并指定其为棕白色。而“吉娃娃犬”则可以继承“吠叫()”这个方法，并指定它的音调高于平常。子类也可以加入新的成员，例如，“吉娃娃犬”这个类可以加入一个方法叫做“颤抖()”。设若用“牧羊犬”这个类定义了一个实例“莱丝”，那么莱丝就不会颤抖，因为这个方法是属于吉娃娃犬的，而非牧羊犬。事实上，我们可以把继承理解为“是”或“属于”。莱丝“是”牧羊犬，牧羊犬“属于”狗类。因此，莱丝既得到了牧羊犬的属性，又继承了狗的属性。 我们来看伪代码：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>类吉娃娃犬 : 继承狗
开始
    公有成员:
        颤抖()
结束
类牧羊犬 : 继承狗

定义莱丝是牧羊犬
莱丝.颤抖()    /* 错误：颤抖是吉娃娃犬的成员方法。 */
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>当一个类从多个父类继承时，我们称之为“多重继承”。如一只狗既是吉娃娃犬又是牧羊犬（虽然事实上并不合逻辑）。多重继承并不总是被支持的，因为它很难理解，又很难被好好使用。</p> <h4 id="多态"><a href="#多态" aria-hidden="true" class="header-anchor">#</a> 多态</h4> <p>多态（Polymorphism）是指由继承而产生的相关的不同的类，其对象对同一消息会做出不同的响应[8]。例如，狗和鸡都有“叫()”这一方法，但是调用狗的“叫()”，狗会吠叫；调用鸡的“叫()”，鸡则会啼叫。 我们将它体现在伪代码上：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>类狗
开始
    公有成员<span class="token punctuation">:</span>
        <span class="token function">叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        开始
            <span class="token function">吠叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        结束
结束

类鸡
开始
    公有成员<span class="token punctuation">:</span>
        <span class="token function">叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        开始
            <span class="token function">啼叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        结束
结束

定义莱丝是狗
定义鲁斯特是鸡
莱丝<span class="token punctuation">.</span><span class="token function">叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
鲁斯特<span class="token punctuation">.</span><span class="token function">叫</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>这样，虽然同样是做出<strong>叫</strong>这一种行为，但莱丝和鲁斯特具体做出的表现方式将大不相同。多态性的概念可以用在<a href="https://zh.wikipedia.org/wiki/%E8%BF%90%E7%AE%97%E7%AC%A6%E9%87%8D%E8%BD%BD" target="_blank" rel="noopener noreferrer">运算符重载<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>上，本文不再赘述。</p> <h4 id="抽象性"><a href="#抽象性" aria-hidden="true" class="header-anchor">#</a> 抽象性</h4> <p>抽象（Abstraction）是简化复杂的现实问题的途径，它可以为具体问题找到最恰当的类定义，并且可以在最恰当的继承级别解释问题。举例说明，莱丝在大多数时候都被当作一条狗，但是如果想要让它做牧羊犬做的事，你完全可以调用牧羊犬的方法。如果狗这个类还有动物的父类，那么你完全可以视莱丝为一个动物。</p> <h4 id="优缺点"><a href="#优缺点" aria-hidden="true" class="header-anchor">#</a> 优缺点</h4> <p>不过，我们也需要知道面向对象的优缺点。</p> <p>优点</p> <p>能和真实的世界交相辉映，符合人的直觉。</p> <p>面向对象和数据库模型设计类型，更多地关注对象间的模型设计。</p> <p>强调于“名词”而不是“动词”，更多地关注对象和对象间的接口。</p> <p>根据业务的特征形成一个个高内聚的对象，有效地分离了抽象和具体实现，增强了可重用性和可扩展性。</p> <p>拥有大量非常优秀的设计原则和设计模式。</p> <p>S.O.L.I.D（单一功能、开闭原则、里氏替换、接口隔离以及依赖反转，是面向对象设计的五个基本原则）、IoC/DIP……</p> <p>缺点</p> <p>代码都需要附着在一个类上，从一侧面上说，其鼓励了类型。代码需要通过对象来达到抽象的效果，导致了相当厚重的“代码粘合层”。因为太多的封装以及对状态的鼓励，导致了大量不透明并在并发下出现很多问题。</p> <h3 id="基于原型的编程范式"><a href="#基于原型的编程范式" aria-hidden="true" class="header-anchor">#</a> 基于原型的编程范式</h3> <p>基于原型（prototype）的编程其实也是面向对象编程的一种方式。没有 class 化的，直接使用对象。又叫，基于实例的编程。其主流的语言就是 JavaScript。与传统的面对象编程的比较如下。</p> <h4 id="与基于类编程的比较"><a href="#与基于类编程的比较" aria-hidden="true" class="header-anchor">#</a> 与基于类编程的比较</h4> <p>在基于类编程当中，对象总共有两种类型。类定义了对象的基本布局和函数特性，而接口是“可以使用的”对象，它基于特定类的样式。在此模型中，类表现为行为和结构的集合，就接口持有对象的数据而言，对所有接口来说是相同的。区分规则因而首先是基于结构和行为，而后是状态。</p> <p>原型编程的主张者经常争论说基于类的语言提倡使用一个关注分类和类之间关系开发模型。与此相对，原型编程看起来提倡程序员关注一系列对象实例的行为，而之后才关心如何将这些对象划分到最近的使用方式相似的原型对象，而不是分成类。因为如此，很多基于原型的系统提倡运行时原型的修改，而只有极少数基于类的面向对象系统（比如第一个动态面向对象的系统 Smalltalk）允许类在程序运行时被修改。</p> <p>原型编程常与认知心理学的特定思想流派有关，同样强调prototypes 和 exemplars 作为学习过程中的关键词。</p> <p>考虑到绝大多数基于原型的系统是基于解释性的和动态类型程序语言，这里要重点指出的是静态类型语言实现基于原型从技术上是可行的。用基于原型编程描述的 Omega 语言就是这样系统的一个例子。尽管根据 Omega 网站所述，Omega 也不是完全的静态，但是可能的时候，它的编译器有时会使用静态绑定来改进程序的效率。</p> <h4 id="对象构造"><a href="#对象构造" aria-hidden="true" class="header-anchor">#</a> 对象构造</h4> <p><strong>在基于原型的系统中构造对象有两种方法，通过复制已有的对象或者通过扩展空对象创建。</strong></p> <p>在基于类的语言中，一个新的实例通过类构造器和构造器可选的参数来构造，结果实例由类选定的行为和布局创建模型。在基于原型的系统中构造对象有两种方法，通过复制已有的对象 或者通过扩展 nihilo（空的）对象创建，因为大多数系统提供了不同的复制方法，扩展 nihilo 对象的方式鲜为人知。</p> <p>提供扩展 nihilo 对象创建的系统允许对象从空白中创建而无需从已有的原型中复制。这样的系统提供特殊的文法用以指定新对象的行为和属性，无须参考已存在的对象。在很多原型语言中，通常有一个 Object 原型，其中有普遍需要的方法。它被用作所有其它对象的最终原型。扩展 nihilo 对象创建可以保证新对象不会被顶级对象的名字空间污染。(在JavaScript中，可以利用null原型来做到, i.e. Object.create(null))。</p> <p>Cloning 指一个新对象通过复制一个已经存在的对象（就是他的原型）来构造自己的过程。于是新的对象拥有原来对象的所有属性，从这一点出发新对象的属性可以被修改。在某些系统中，子对象持有一个到它原型的直接链接（经由授权或类似方式）。并且原型的改变同样会导致它的副本的变化。其他系统中，如类 <a href="https://zh.wikipedia.org/wiki/Forth" target="_blank" rel="noopener noreferrer">Forth<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 的程序语言，<a href="https://zh.wikipedia.org/w/index.php?title=Kevo&amp;action=edit&amp;redlink=1" target="_blank" rel="noopener noreferrer">Kevo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 在此情况下不传播原型的改变，而遵循一个更加连续的模型，其中被复制的对象改变不会通过他的副本传播。</p> <h4 id="javascript的原型概念"><a href="#javascript的原型概念" aria-hidden="true" class="header-anchor">#</a> JavaScript的原型概念</h4> <p>由于JavaScript缺乏类,它用构造函数和原型对象来给对象带来与类相似的功能。但是,这些相似的功能并不一定 &quot;表现的跟类完全一致。在本章中,你会详细看到JavaScript如何使用构造函数和原型对象来创建对象。</p> <p>我们先来看一个示例。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>name<span class="token punctuation">:</span> <span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> one<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> two<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span>three<span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>每个对象都有一个 <strong>proto</strong> 的属性，这个就是“原型”。对于上面的两个对象，如果我们把 foo 赋值给 bar.<strong>proto</strong>，那就意味着，bar 的原型就成了 foo的。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>bar<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> foo<span class="token punctuation">;</span> <span class="token comment">// foo is now the prototype of bar.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>于是，我们就可以在 bar 里面访问 foo 的属性了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// If we try to access foo's properties from bar</span>
<span class="token comment">// from now on, we'll succeed.</span>
bar<span class="token punctuation">.</span>one <span class="token comment">// Resolves to 1.</span>

<span class="token comment">// The child object's properties are also accessible.</span>
bar<span class="token punctuation">.</span>three <span class="token comment">// Resolves to 3.</span>

<span class="token comment">// Own properties shadow prototype properties</span>
bar<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">;</span>
foo<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// unaffected, resolves to &quot;foo&quot;</span>
bar<span class="token punctuation">.</span>name<span class="token punctuation">;</span> <span class="token comment">// Resolves to &quot;bar&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>需要解释一下 JavaScript 的两个东西，一个是 <strong>proto</strong>，另一个是 prototype，这两个东西很容易混淆。</p> <p>这里说明一下：</p> <p><em>proto</em>_ 主要是安放在一个实际的对象中，用它来产生一个链接，一个原型链连，用于寻找方法名或属性，等等。</p> <p>prototype 是用 new 来创建一个对象时构造 <strong>proto</strong> 用的。它是构造函数的一个属性。</p> <p>在 JavaScript 中，对象有两种表现形式， 一种是 Object (<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.2" target="_blank" rel="noopener noreferrer">ES5 关于 Object 的文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>)，一种是 Function （<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.2" target="_blank" rel="noopener noreferrer">ES5 关于 Function 的文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>）。我们可以简单地认为，<strong>proto</strong> 是所有对象用于链接原型的一个指针，而 prototype 则是 Function 对象的属性，其主要是用来当需要 new 一个对象时让 <strong>proto</strong> 指针所指向的地方。 对于超级对象 Function 而言， Function.<strong>proto</strong> 就是 Function.prototype。</p> <p>比如我们有如下的代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>
x<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
calculate<span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token punctuation">{</span>
y<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
__proto__<span class="token punctuation">:</span> a
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token punctuation">{</span>
y<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
__proto__<span class="token punctuation">:</span> a
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// call the inherited method</span>
b<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 60</span>
c<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 80</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>其中的“原型链”如下所示：</p> <p><img src="http://p8xb02d0d.bkt.clouddn.com/18-7-26/7703965.jpg" alt=""></p> <p>注意：ES5 中，规定原型继承需要使用 Object.create() 函数。如下所示：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> b <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">{</span>y<span class="token punctuation">:</span> <span class="token punctuation">{</span>value<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> <span class="token punctuation">{</span>y<span class="token punctuation">:</span> <span class="token punctuation">{</span>value<span class="token punctuation">:</span> <span class="token number">30</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>好了，我们再来看一段代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 一种构造函数写法</span>
<span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// 修改 Foo 的 prototype，加入一个成员变量 x</span>
Foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token comment">// 修改 Foo 的 prototype，加入一个成员函数 calculate</span>
Foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">calculate</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>z<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">+</span> z<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 现在，我们用 Foo 这个原型来创建 b 和 c</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 调用原型中的方法，可以得到正确的值</span>
b<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 60</span>
c<span class="token punctuation">.</span><span class="token function">calculate</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 80</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>那么，在内存中的布局是怎么样的呢？大概是下面这个样子。</p> <p><img src="http://p8xb02d0d.bkt.clouddn.com/18-7-26/17024251.jpg" alt=""></p> <p>这个图应该可以让你很好地看明白 <strong>proto</strong> 和 prototype 的差别了。</p> <p>我们可以测试一下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>b<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Foo<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token comment">// true</span>
c<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> Foo<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token comment">// true</span>

b<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Foo<span class="token punctuation">,</span> <span class="token comment">// true</span>
c<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Foo<span class="token punctuation">,</span> <span class="token comment">// true</span>
Foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Foo<span class="token punctuation">,</span> <span class="token comment">// true</span>

b<span class="token punctuation">.</span>calculate <span class="token operator">===</span> b<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>calculate<span class="token punctuation">,</span> <span class="token comment">// true</span>
b<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>calculate <span class="token operator">===</span> Foo<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>calculate <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>这里需要说明的是——</p> <p>Foo.prototype 自动创建了一个属性 constructor，这是一个指向函数自己的一个 reference。</p> <p>这样一来，对于实例 b 或 c 来说，就能访问到这个继承的 constructor 了。有了这些基本概念，我们就可以讲一下 JavaScript 的面向对象编程了。</p> <p>注： 上面示例和图示来源于 <a href="http://dmitrysoshnikov.com/ecmascript/javascript-the-core/" target="_blank" rel="noopener noreferrer">JavaScript, The Core<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 一文。JavaScript 原型编程的面向对象我们再来重温一下上面讲述的内容：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">&quot;Hao Chen&quot;</span><span class="token punctuation">;</span>
Person<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hi, I am &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hao Chen&quot;</span>
p<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;Hi, I am Hao Chen&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>在上面这个例子中：</p> <p>我们先生成了一个空的函数对象 Person()；</p> <p>然后将这个空的函数对象 new 出另一个对象，存在 p 中；</p> <p>这时再改变 Person.prototype，让其有一个 name 的属性和一个 sayHello() 的方法；</p> <p>我们发现，另外那个 p 的对象也跟着一起改变了。</p> <p>注意一下，</p> <p>当创建 function Person(){} 时，Person.<strong>proto</strong> 指向 Function.prototype;</p> <p>当创建 var p = new Person() 时，p.<strong>proto</strong> 指向 Person.prototype;</p> <p>当修改了 Person.prototype 的内容后，p.<strong>proto</strong> 的内容也就被改变了。好了，我们再来看一下“原型编程”中面向对象的编程玩法。首先，我们定义一个 Person 类。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//Define human class</span>
<span class="token keyword">var</span> <span class="token function-variable function">Person</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>fullName<span class="token punctuation">,</span> email<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">=</span> fullName<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>email <span class="token operator">=</span> email<span class="token punctuation">;</span>

<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">speak</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;I speak English!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">introduction</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hi, I am &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>上面这个对象中，</p> <p>包含了：</p> <p>属性： fullName 和 email；</p> <p>方法： speak() 和 introduction()。</p> <p>其实，所谓的方法也是属性。然后，我们可以定义一个 Student 对象。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//Define Student class</span>
<span class="token keyword">var</span> <span class="token function-variable function">Student</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span>fullName<span class="token punctuation">,</span> email<span class="token punctuation">,</span> school<span class="token punctuation">,</span> courses<span class="token punctuation">)</span> <span class="token punctuation">{</span>

Person<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> fullName<span class="token punctuation">,</span> email<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Initialize our Student properties</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>school <span class="token operator">=</span> school<span class="token punctuation">;</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>courses <span class="token operator">=</span> courses<span class="token punctuation">;</span>

<span class="token comment">// override the &quot;introduction&quot; method</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">introduction</span><span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Hi, I am &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fullName <span class="token operator">+</span>
<span class="token string">&quot;. I am a student of &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>school <span class="token operator">+</span>
<span class="token string">&quot;, I study &quot;</span><span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>courses <span class="token operator">+</span><span class="token string">&quot;.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Add a &quot;exams&quot; method</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">takeExams</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;This is my exams time!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>在上面的代码中：</p> <p>使用了 Person.call(this, fullName, email)，call() 或 apply() 都是为了动态改变 this 所指向的对象的内容而出现的。这里的 this 就是 Student。</p> <p>上面的例子中，我们重载了 introduction() 方法，并新增加了一个 takeExams()的方法。</p> <p>虽然，我们这样定义了 Student，但是它还没有和 Person 发生继承关系。</p> <p>为了要让它们发生关系，我们就需要修改 Student 的原型。我们可以简单粗暴地做赋值：Student.<strong>proto</strong> = Person.prototype ，但是，这太粗暴了。</p> <p>我们还是使用比较规范的方式：</p> <p>先用 Object.create() 来将Person.prototype 和 Student.prototype 关联上。</p> <p>然后，修改一下构造函数 Student.prototype.constructor = Student;。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// Create a Student.prototype object that inherits</span>
<span class="token comment">// from Person.prototype.</span>
Student<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Set the &quot;constructor&quot; property to refer to Student</span>
Student<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Student<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>这样，我们就可以这样使用了。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;Hao Chen&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;haoel@hotmail.com&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;XYZ University&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;Computer Science&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
student<span class="token punctuation">.</span><span class="token function">introduction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
student<span class="token punctuation">.</span><span class="token function">speak</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
student<span class="token punctuation">.</span><span class="token function">takeExams</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Check that instanceof works correctly</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>student <span class="token keyword">instanceof</span> <span class="token class-name">Student</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>上述就是基于原型的面向对象编程的玩法了。注：在 ECMAScript 标准的第四版开始寻求使 JavaScript 提供基于类的构造，且 ECMAScript 第六版有提供 &quot;class&quot;(类) 作为原有的原型架构之上的语法糖，提供构建对象与处理继承时的另一种语法。</p> <p>小结</p> <p>我们可以看到，这种玩法就是一种委托的方式。在使用委托的基于原型的语言中，运行时语言可以仅仅通过循着一个序列的指针直到找到匹配这样的方式来定位属性或者寻找正确的数据。所有这些创建行为共享的行为需要的是委托指针。</p> <p>不像是基于类的面向对象语言中类和接口的关系，原型和它的分支之间的关系并不要求子对象有相似的内存结构，因为如此，子对象可以继续修改而无需像基于类的系统那样整理结构。还有一个要提到的地方是，不仅仅是数据，方法也能被修改。因为这个原因，大多数基于原型的语言把数据和方法提作“slots”。</p> <p>这种在对象里面直接修改的玩法，虽然这个特性可以带来运行时的灵活性，我们可以在运行时修改一个 prototype，给它增加甚至删除属性和方法。但是其带来了执行的不确定性，也有安全性的问题，而代码还变得不可预测，这有点黑科技的味道了。因为这些不像静态类型系统，没有一个不可变的契约对代码的确定性有保证，所以，需要使用者来自己保证。</p></div> <span id="footerPost" data-v-991417e8></span></div> <div id="post-toc" class="post-toc el-col el-col-6" data-v-991417e8><h4 class="catalog-title" data-v-991417e8>TOC</h4> <div class="catalog-body" data-v-991417e8><ul id="catalog-list" class="catalog-list" data-v-991417e8></ul></div></div></div> <div class="post-nav el-row is-justify-space-around el-row--flex" data-v-991417e8><div class="post-prev el-col el-col-7" data-v-991417e8><div data-v-991417e8><a href="/blog/posts/component/%E7%BB%84%E4%BB%B6%EF%BC%9A%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90.html" data-v-991417e8><i class="el-icon-arrow-left" data-v-991417e8></i> Prev
        </a> <p class="nav-title" data-v-991417e8>组件：生命周期钩子 angular、vue生命周期</p></div></div> <div class="post-next el-col el-col-7 el-col-lg-pull-5" data-v-991417e8><div data-v-991417e8><a href="/blog/posts/es6+/%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC.html" data-v-991417e8>
          Next
          <i class="el-icon-arrow-right" data-v-991417e8></i></a> <p class="nav-title" data-v-991417e8>解构赋值</p></div></div></div> <div class="el-row is-justify-center el-row--flex" data-v-991417e8></div> <span data-v-1ba756dd data-v-991417e8><button type="button" class="el-button toc-btn el-button--primary is-circle" data-v-1ba756dd><!----><!----><span><i class="iconfont icon-service-directory" data-v-1ba756dd></i></span></button> <button type="button" class="el-button gotop-btn el-button--primary is-circle" data-v-1ba756dd><!----><!----><span><i class="el-icon-arrow-up" data-v-1ba756dd></i></span></button></span></div></main></section> <button type="button" class="el-button gotop-btn el-button--primary is-circle" style="display:none;" data-v-db63bc4e data-v-5d0d200e><!----><!----><span><i class="el-icon-arrow-up" data-v-db63bc4e></i></span></button></section> <footer class="el-footer container-footer" style="height:60px;" data-v-6419f3ca data-v-5d0d200e><div class="footer-warp el-row is-justify-center is-align-center el-row--flex footerMargin" data-v-6419f3ca><div class="footer-top el-col el-col-24" data-v-6419f3ca><p class="ellipsis" data-v-6419f3ca><span data-v-6419f3ca>
          博客内容遵循
          <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" data-v-6419f3ca>知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span></p></div> <div class="footer-bottom el-col el-col-24" data-v-6419f3ca><p class="ellipsis" data-v-6419f3ca><span data-v-6419f3ca><span data-v-6419f3ca>
            jinjun © 2016/12 ~ 2019/3/
          </span></span> <span data-v-6419f3ca>
          Power by
          <a href="https://vuepress.vuejs.org/zh/" target="_blank" data-v-6419f3ca>VuePress</a></span></p></div></div></footer> <div class="overlay" data-v-5d0d200e></div></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.962901cb.js" defer></script><script src="/blog/assets/js/1.36b4da28.js" defer></script><script src="/blog/assets/js/16.1efe9ae9.js" defer></script><script src="/blog/assets/js/5.ab75d492.js" defer></script><script src="/blog/assets/js/7.5ca7d561.js" defer></script><script src="/blog/assets/js/14.fca58736.js" defer></script><script src="/blog/assets/js/6.da834821.js" defer></script><script src="/blog/assets/js/43.91e50540.js" defer></script><script src="/blog/assets/js/15.9cf39d09.js" defer></script><script src="/blog/assets/js/17.c81a99c6.js" defer></script>
  </body>
</html>
