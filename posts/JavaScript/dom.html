<!DOCTYPE html>
<html lang="ZH-CN">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"
    />
    <title>DOM总结 | jinjun</title>
    <meta name="description" content="前端开发 JavaScript webpack 金俊 jinjun " />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="DOM总结 | jinjun" />
    <meta property="og:site_name" content="DOM总结 | jinjun" />
    <meta property="og:locale" content="zh-CN" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="DOM总结 | jinjun" />
    <link rel="shortcut icon" href="/blog/favicon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.bc81ad81.css" as="style"><link rel="preload" href="/blog/assets/js/app.1a6b459b.js" as="script"><link rel="preload" href="/blog/assets/js/1.c85d1694.js" as="script"><link rel="preload" href="/blog/assets/js/16.cd5d85ab.js" as="script"><link rel="preload" href="/blog/assets/js/5.ac05350e.js" as="script"><link rel="preload" href="/blog/assets/js/7.e7baed12.js" as="script"><link rel="preload" href="/blog/assets/js/14.6682b562.js" as="script"><link rel="preload" href="/blog/assets/js/6.df15a82e.js" as="script"><link rel="preload" href="/blog/assets/js/26.4036117d.js" as="script"><link rel="preload" href="/blog/assets/js/15.3c31a18d.js" as="script"><link rel="preload" href="/blog/assets/js/17.c44e1b3d.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.1b427022.js"><link rel="prefetch" href="/blog/assets/js/11.73645caf.js"><link rel="prefetch" href="/blog/assets/js/12.2172bbd7.js"><link rel="prefetch" href="/blog/assets/js/13.03f49701.js"><link rel="prefetch" href="/blog/assets/js/18.b2576757.js"><link rel="prefetch" href="/blog/assets/js/19.2d663f60.js"><link rel="prefetch" href="/blog/assets/js/20.9dcc6670.js"><link rel="prefetch" href="/blog/assets/js/21.04adcd03.js"><link rel="prefetch" href="/blog/assets/js/22.6235e2d6.js"><link rel="prefetch" href="/blog/assets/js/23.2b93aeba.js"><link rel="prefetch" href="/blog/assets/js/24.7d448ad2.js"><link rel="prefetch" href="/blog/assets/js/25.3b0efd31.js"><link rel="prefetch" href="/blog/assets/js/27.b0291263.js"><link rel="prefetch" href="/blog/assets/js/28.085922a6.js"><link rel="prefetch" href="/blog/assets/js/29.a30387ba.js"><link rel="prefetch" href="/blog/assets/js/30.206be43f.js"><link rel="prefetch" href="/blog/assets/js/31.044d7af0.js"><link rel="prefetch" href="/blog/assets/js/32.aeec4d5a.js"><link rel="prefetch" href="/blog/assets/js/33.7ea2d270.js"><link rel="prefetch" href="/blog/assets/js/34.d825dde5.js"><link rel="prefetch" href="/blog/assets/js/35.4d052222.js"><link rel="prefetch" href="/blog/assets/js/36.353a7858.js"><link rel="prefetch" href="/blog/assets/js/37.5796cf5e.js"><link rel="prefetch" href="/blog/assets/js/38.16bdd7b6.js"><link rel="prefetch" href="/blog/assets/js/39.efe944bf.js"><link rel="prefetch" href="/blog/assets/js/4.c0856dc5.js"><link rel="prefetch" href="/blog/assets/js/40.f6b173d4.js"><link rel="prefetch" href="/blog/assets/js/41.9027f88a.js"><link rel="prefetch" href="/blog/assets/js/42.749296b3.js"><link rel="prefetch" href="/blog/assets/js/43.e932fd44.js"><link rel="prefetch" href="/blog/assets/js/44.c0d33ee4.js"><link rel="prefetch" href="/blog/assets/js/8.8dc4c424.js"><link rel="prefetch" href="/blog/assets/js/9.eb9876f1.js"><link rel="prefetch" href="/blog/assets/js/search.56704786.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.bc81ad81.css">
  </head>
  <body>
    <div id="loader-wrapper" style="display: none;opacity:0">
      <div id="loader"></div>
      <div class="loader-section section-left"></div>
      <div class="loader-section section-right"></div>
    </div>
    <div id="app" data-server-rendered="true"><div style="height:100%;" data-v-5d0d200e><section class="el-container main-container" data-v-5d0d200e><aside class="el-aside menu" style="width:auto;" data-v-7a66351a data-v-5d0d200e><ul role="menubar" class="menu-wrap el-menu" style="background-color:;" data-v-7a66351a><li data-v-7a66351a><div class="brand-wrap" style="background-image:url();" data-v-7a66351a><div class="brand" data-v-7a66351a><a href="/blog/" class="avatar waves-effect waves-circle waves-light router-link-active" data-v-7a66351a><img src="/blog/avatar.png" data-v-7a66351a></a> <hgroup class="introduce" data-v-7a66351a><div class="nickname" data-v-7a66351a>jinjun</div> <a title="jinjun199403@gmail.com" class="mail" data-v-7a66351a>jinjun199403@gmail.com</a></hgroup></div></div></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-home" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>主页</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-biaoqian" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>标签分类</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-wenzhang" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>时间归档</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-github" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>Github</span></li> <li role="menuitem" tabindex="-1" class="el-menu-item" style="padding-left:20px;color:;background-color:;" data-v-7a66351a><i class="iconfont icon-aboutme" data-v-7a66351a></i> <span class="item-title" data-v-7a66351a>关于我</span></li></ul></aside> <section class="el-container container-warp" data-v-5d0d200e><header id="topHeader" class="el-header top-header" style="height:60px;padding-left:260px;" data-v-462e0cef data-v-5d0d200e><div class="header-warp el-row is-align-middle el-row--flex" data-v-462e0cef><div class="el-col el-col-12 el-col-xs-7" data-v-462e0cef><div class="el-row is-align-middle el-row--flex" data-v-462e0cef><div class="el-col el-col-2" data-v-462e0cef><button type="button" class="el-button el-button--primary is-circle" data-v-462e0cef><!----><!----><span><i class="iconfont icon-caidan" data-v-462e0cef></i></span></button></div></div></div> <div class="el-col el-col-20 el-col-xs-24" data-v-462e0cef><div class="grid-content bg-purple-light" data-v-462e0cef><div class="el-row is-justify-end is-align-middle el-row--flex" data-v-462e0cef><div class="el-col el-col-13 el-col-xs-24 el-col-sm-21 el-col-md-17 el-col-lg-13" data-v-462e0cef><div aria-haspopup="listbox" role="combobox" aria-owns="el-autocomplete-8695" class="el-autocomplete search-input" data-v-462e0cef><div class="el-input el-input--small el-input--suffix"><!----><input type="text" autocomplete="off" valueKey="value" popperClass="search-popper" placeholder="搜搜看" fetchSuggestions="function () { [native code] }" debounce="300" placement="bottom-start" popperAppendToBody="true" value="" class="el-input__inner"><!----><span class="el-input__suffix"><span class="el-input__suffix-inner"><i class="el-input__icon el-icon-search search-ico" data-v-462e0cef></i><!----><!----><!----></span><!----></span><!----></div><div role="region" class="el-autocomplete-suggestion el-popper search-popper" style="width:;display:none;"><div class="el-scrollbar"><div class="el-autocomplete-suggestion__wrap el-scrollbar__wrap el-scrollbar__wrap--hidden-default"><ul class="el-scrollbar__view el-autocomplete-suggestion__list"></ul></div><div class="el-scrollbar__bar is-horizontal"><div class="el-scrollbar__thumb" style="width:0;transform:translateX(0%);ms-transform:translateX(0%);webkit-transform:translateX(0%);"></div></div><div class="el-scrollbar__bar is-vertical"><div class="el-scrollbar__thumb" style="height:0;transform:translateY(0%);ms-transform:translateY(0%);webkit-transform:translateY(0%);"></div></div></div></div></div></div></div></div></div></div></header> <main class="el-main my-main" style="margin-left:240px;" data-v-c4863568 data-v-5d0d200e><div class="content-header index-header" data-v-82ac95c6 data-v-c4863568><div class="container fade-scale in" data-v-82ac95c6><h1 id="conentHeader" class="title" data-v-82ac95c6>DOM总结</h1> <h5 class="subtitle" data-v-82ac95c6></h5></div></div> <div data-v-991417e8 data-v-c4863568 data-v-c4863568><div class="post-content el-row is-justify-center el-row--flex" data-v-991417e8><div id="post-card" class="post-card el-col el-col-16 el-col-xs-24 el-col-sm-23 el-col-md-23 el-col-lg-16" data-v-991417e8><div class="content default"><p><div class="table-of-contents"> <ul><li><a href="/blog/posts/JavaScript/dom.html#dom操作总结">dom操作总结</a> <ul><li><a href="/blog/posts/JavaScript/dom.html#节点查找api">节点查找API</a> <!----></li><li><a href="/blog/posts/JavaScript/dom.html#节点创建api">节点创建API</a> <!----></li><li><a href="/blog/posts/JavaScript/dom.html#节点修改api">节点修改API</a> <!----></li><li><a href="/blog/posts/JavaScript/dom.html#节点关系api">节点关系API</a> <!----></li><li><a href="/blog/posts/JavaScript/dom.html#元素属性型api">元素属性型API</a> <!----></li><li><a href="/blog/posts/JavaScript/dom.html#样式相关api">样式相关API</a> <!----></li><li><a href="/blog/posts/JavaScript/dom.html#获取相关高度api">获取相关高度API</a> <!----></li></ul></li></ul> </div></p> <h2 id="dom操作总结"><a href="#dom操作总结" aria-hidden="true" class="header-anchor">#</a> dom操作总结</h2> <h3 id="节点查找api"><a href="#节点查找api" aria-hidden="true" class="header-anchor">#</a> 节点查找API</h3> <blockquote><p>document.getElementById ：根据ID查找元素，大小写敏感，如果有多个结果，只返回第一个；</p> <p>document.getElementsByClassName ：根据类名查找元素，多个类名用空格分隔，返回一个 HTMLCollection 。注意兼容性为IE9+（含）。另外，不仅仅是document，其它元素也支持 getElementsByClassName 方法；</p> <p>document.getElementsByTagName ：根据标签查找元素， * 表示查询所有标签，返回一个 HTMLCollection 。</p> <p>document.getElementsByName ：根据元素的name属性查找，返回一个 NodeList 。</p> <p>document.querySelector ：返回单个Node，IE8+(含），如果匹配到多个结果，只返回第一个。</p> <p>document.querySelectorAll ：返回一个 NodeList ，IE8+(含）。</p> <p>document.forms ：获取当前页面所有form，返回一个 HTMLCollection ；</p></blockquote> <h3 id="节点创建api"><a href="#节点创建api" aria-hidden="true" class="header-anchor">#</a> 节点创建API</h3> <h4 id="createelement创建元素："><a href="#createelement创建元素：" aria-hidden="true" class="header-anchor">#</a> createElement创建元素：</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
elem<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">'haorooms'</span><span class="token punctuation">;</span>  
elem<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token string">'color: red'</span><span class="token punctuation">;</span>  
elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'我是新创建的haorooms测试节点'</span><span class="token punctuation">;</span>  
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>通过 createElement 创建的元素并不属于 document 对象，它只是创建出来，并未添加到html文档中，要调用 appendChild 或 insertBefore 等方法将其添加到HTML文档中。</p> <h4 id="createtextnode创建文本节点："><a href="#createtextnode创建文本节点：" aria-hidden="true" class="header-anchor">#</a> createTextNode创建文本节点：</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> node <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span><span class="token string">&quot;我是文本节点&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="clonenode-克隆一个节点："><a href="#clonenode-克隆一个节点：" aria-hidden="true" class="header-anchor">#</a> cloneNode 克隆一个节点：</h4> <p>node.cloneNode(true/false) ，它接收一个bool参数，用来表示是否复制子元素。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token keyword">from</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token keyword">var</span> clone <span class="token operator">=</span> <span class="token keyword">from</span><span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
clone<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&quot;test2&quot;</span><span class="token punctuation">;</span>  
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>clone<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>克隆节点并不会克隆事件，除非事件是用这种方式绑定的，用 addEventListener 和 node.onclick=xxx; 方式绑定的都不会复制。</p> <h4 id="createdocumentfragment"><a href="#createdocumentfragment" aria-hidden="true" class="header-anchor">#</a> createDocumentFragment</h4> <p>本方法用来创建一个 DocumentFragment ，也就是文档碎片，它表示一种轻量级的文档，主要是用来存储临时节点，大量操作DOM时用它可以大大提升性能。</p> <h3 id="节点修改api"><a href="#节点修改api" aria-hidden="true" class="header-anchor">#</a> 节点修改API</h3> <p><strong>1、appendChild</strong></p> <p>语法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>2、insertBefore</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> refNode<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>3、insertAdjacentHTML</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//js谷歌浏览器，火狐浏览器，IE8+</span>
el<span class="token punctuation">.</span><span class="token function">insertAdjacentHTML</span><span class="token punctuation">(</span><span class="token string">'beforebegin'</span><span class="token punctuation">,</span> htmlString<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>关于insertAdjacentHTML，这个API比较好用，具体可以看：<a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentHTML" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/en-US/docs/Web/API/Element/insertAdjacentHTML<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> beforebegin <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> afterbegin <span class="token operator">--</span><span class="token operator">&gt;</span>
  foo
  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> beforeend <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> afterend <span class="token operator">--</span><span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>4、Element.insertAdjacentElement()</strong></p> <p>用法和上面类似，</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>targetElement<span class="token punctuation">.</span><span class="token function">insertAdjacentElement</span><span class="token punctuation">(</span>position<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>5、removeChild</strong></p> <p>removeChild用于删除指定的子节点并返回子节点，语法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> deletedChild <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>deletedChild指向被删除节点的引用，它仍然存在于内存中，可以对其进行下一步操作。另外，如果被删除的节点不是其子节点，则将会报错。一般删除节点都是这么删的：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">removeNode</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span>  
<span class="token punctuation">{</span>  
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>node<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>  
    <span class="token keyword">if</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span> node<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>6、replaceChild</strong></p> <p>replaceChild用于将一个节点替换另一个节点，语法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>parent<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span>newChild<span class="token punctuation">,</span> oldChild<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="节点关系api"><a href="#节点关系api" aria-hidden="true" class="header-anchor">#</a> 节点关系API</h3> <p><strong>1、父关系API</strong></p> <blockquote><p>parentNode ：每个节点都有一个parentNode属性，它表示元素的父节点。Element的父节点可能是Element，Document或DocumentFragment；</p> <p>parentElement ：返回元素的父元素节点，与parentNode的区别在于，其父节点必须是一个Element元素，如果不是，则返回null；</p></blockquote> <p><strong>2、子关系API</strong></p> <blockquote><p>children ：返回一个实时的 HTMLCollection ，子节点都是Element，IE9以下浏览器不支持；</p> <p>childNodes ：返回一个实时的 NodeList ，表示元素的子节点列表，注意子节点可能包含文本节点、注释节点等；</p> <p>firstChild ：返回第一个子节点，不存在返回null，与之相对应的还有一个 firstElementChild ；</p> <p>lastChild ：返回最后一个子节点，不存在返回null，与之相对应的还有一个 lastElementChild ；</p></blockquote> <p><strong>3、兄弟关系型API</strong></p> <blockquote><p>previousSibling ：节点的前一个节点，如果不存在则返回null。注意有可能拿到的节点是文本节点或注释节点，与预期的不符，要进行处理一下。</p> <p>nextSibling ：节点的后一个节点，如果不存在则返回null。注意有可能拿到的节点是文本节点，与预期的不符，要进行处理一下。</p> <p>previousElementSibling ：返回前一个元素节点，前一个节点必须是Element，注意IE9以下浏览器不支持。</p> <p>nextElementSibling ：返回后一个元素节点，后一个节点必须是Element，注意IE9以下浏览器不支持。</p></blockquote> <h3 id="元素属性型api"><a href="#元素属性型api" aria-hidden="true" class="header-anchor">#</a> 元素属性型API</h3> <p><strong>1、setAttribute 给元素设置属性：</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>element<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>其中name是特性名，value是特性值。如果元素不包含该特性，则会创建该特性并赋值。</p> <p><strong>2、getAttribute</strong></p> <p>getAttribute返回指定的特性名相应的特性值，如果不存在，则返回null：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> value <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>3、hasAttribute</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> result <span class="token operator">=</span> element<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> foo <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token keyword">if</span> <span class="token punctuation">(</span>foo<span class="token punctuation">.</span><span class="token function">hasAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">// do something</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>4、dataset</strong></p> <p>获取html data-开头的属性，用法如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;user&quot;</span> data<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">&quot;1234567890&quot;</span> data<span class="token operator">-</span>user<span class="token operator">=</span><span class="token string">&quot;johndoe&quot;</span> data<span class="token operator">-</span>date<span class="token operator">-</span><span class="token keyword">of</span><span class="token operator">-</span>birth<span class="token operator">&gt;</span>John Doe<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token keyword">let</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#user'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// el.id == 'user'</span>
<span class="token comment">// el.dataset.id === '1234567890'</span>
<span class="token comment">// el.dataset.user === 'johndoe'</span>
<span class="token comment">// el.dataset.dateOfBirth === ''</span>

el<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>dateOfBirth <span class="token operator">=</span> <span class="token string">'1960-10-03'</span><span class="token punctuation">;</span> <span class="token comment">// set the DOB.</span>

<span class="token comment">// 'someDataAttr' in el.dataset === false</span>
el<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>someDataAttr <span class="token operator">=</span> <span class="token string">'mydata'</span><span class="token punctuation">;</span>
<span class="token comment">// 'someDataAttr' in el.dataset === true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="样式相关api"><a href="#样式相关api" aria-hidden="true" class="header-anchor">#</a> 样式相关API</h3> <p><strong>1、直接修改元素的样式</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'red'</span><span class="token punctuation">;</span>  
elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">setProperty</span><span class="token punctuation">(</span><span class="token string">'font-size'</span><span class="token punctuation">,</span> <span class="token string">'16px'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span><span class="token function">removeProperty</span><span class="token punctuation">(</span><span class="token string">'color'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>2、动态添加样式规则</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> style <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
style<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">'body{color:red} #top:hover{background-color: red;color: white;}'</span><span class="token punctuation">;</span>  
document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>style<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>3、classList获取样式class</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// div is an object reference to a &lt;div&gt; element with class=&quot;foo bar&quot;</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;anotherclass&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// if visible is set remove it, otherwise add it</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">&quot;visible&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// add/remove visible, depending on test conditional, i less than 10</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">&quot;visible&quot;</span><span class="token punctuation">,</span> i <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">alert</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// add or remove multiple classes</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;baz&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// add or remove multiple classes using spread syntax</span>
<span class="token keyword">let</span> cls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token operator">...</span>cls<span class="token punctuation">)</span><span class="token punctuation">;</span> 
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token operator">...</span>cls<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// replace class &quot;foo&quot; with class &quot;bar&quot;</span>
div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;foo&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p><strong>4、window.getComputedStyle</strong></p> <p>通过 element.sytle.xxx 只能获取到内联样式，借助 window.getComputedStyle 可以获取应用到元素上的所有样式，IE8或更低版本不支持此方法。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> style <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span>element<span class="token punctuation">[</span><span class="token punctuation">,</span> pseudoElt<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="获取相关高度api"><a href="#获取相关高度api" aria-hidden="true" class="header-anchor">#</a> 获取相关高度API</h3> <p>这里主要讲一下：</p> <h4 id="getboundingclientrect"><a href="#getboundingclientrect" aria-hidden="true" class="header-anchor">#</a> getBoundingClientRect</h4> <p>getBoundingClientRect 用来返回元素的大小以及相对于浏览器可视窗口的位置，用法如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>var clientRect = element.getBoundingClientRect();  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>clientRect是一个 DOMRect 对象，包含width、height、left、top、right、bottom，它是相对于窗口顶部而不是文档顶部，滚动页面时它们的值是会发生变化的。</p></div> <span id="footerPost" data-v-991417e8></span></div> <div id="post-toc" class="post-toc el-col el-col-6" data-v-991417e8><h4 class="catalog-title" data-v-991417e8>TOC</h4> <div class="catalog-body" data-v-991417e8><ul id="catalog-list" class="catalog-list" data-v-991417e8></ul></div></div></div> <div class="post-nav el-row is-justify-space-around el-row--flex" data-v-991417e8><div class="post-prev el-col el-col-7" data-v-991417e8><div data-v-991417e8><a href="/blog/posts/component/%E7%BB%84%E4%BB%B6%EF%BC%9A%E5%86%85%E5%AE%B9%E6%8A%95%E5%BD%B1%EF%BC%88Angular%EF%BC%89%E3%80%81%E6%8F%92%E6%A7%BD%EF%BC%88Vue%EF%BC%89.html" data-v-991417e8><i class="el-icon-arrow-left" data-v-991417e8></i> Prev
        </a> <p class="nav-title" data-v-991417e8>组件：插槽 Angular内容投影与Vue插槽</p></div></div> <div class="post-next el-col el-col-7 el-col-lg-pull-5" data-v-991417e8><div data-v-991417e8><a href="/blog/posts/psychology/safe.html" data-v-991417e8>
          Next
          <i class="el-icon-arrow-right" data-v-991417e8></i></a> <p class="nav-title" data-v-991417e8>女生需要的安全感究竟是什么？</p></div></div></div> <div class="el-row is-justify-center el-row--flex" data-v-991417e8></div> <span data-v-1ba756dd data-v-991417e8><button type="button" class="el-button toc-btn el-button--primary is-circle" data-v-1ba756dd><!----><!----><span><i class="iconfont icon-service-directory" data-v-1ba756dd></i></span></button> <button type="button" class="el-button gotop-btn el-button--primary is-circle" data-v-1ba756dd><!----><!----><span><i class="el-icon-arrow-up" data-v-1ba756dd></i></span></button></span></div></main></section> <button type="button" class="el-button gotop-btn el-button--primary is-circle" style="display:none;" data-v-db63bc4e data-v-5d0d200e><!----><!----><span><i class="el-icon-arrow-up" data-v-db63bc4e></i></span></button></section> <footer class="el-footer container-footer" style="height:60px;" data-v-6419f3ca data-v-5d0d200e><div class="footer-warp el-row is-justify-center is-align-center el-row--flex footerMargin" data-v-6419f3ca><div class="footer-top el-col el-col-24" data-v-6419f3ca><p class="ellipsis" data-v-6419f3ca><span data-v-6419f3ca>
          博客内容遵循
          <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" data-v-6419f3ca>知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span></p></div> <div class="footer-bottom el-col el-col-24" data-v-6419f3ca><p class="ellipsis" data-v-6419f3ca><span data-v-6419f3ca><span data-v-6419f3ca>
            jinjun © 2016/12 ~ 2019/3/
          </span></span> <span data-v-6419f3ca>
          Power by
          <a href="https://vuepress.vuejs.org/zh/" target="_blank" data-v-6419f3ca>VuePress</a></span></p></div></div></footer> <div class="overlay" data-v-5d0d200e></div></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.1a6b459b.js" defer></script><script src="/blog/assets/js/1.c85d1694.js" defer></script><script src="/blog/assets/js/16.cd5d85ab.js" defer></script><script src="/blog/assets/js/5.ac05350e.js" defer></script><script src="/blog/assets/js/7.e7baed12.js" defer></script><script src="/blog/assets/js/14.6682b562.js" defer></script><script src="/blog/assets/js/6.df15a82e.js" defer></script><script src="/blog/assets/js/26.4036117d.js" defer></script><script src="/blog/assets/js/15.3c31a18d.js" defer></script><script src="/blog/assets/js/17.c44e1b3d.js" defer></script>
  </body>
</html>
